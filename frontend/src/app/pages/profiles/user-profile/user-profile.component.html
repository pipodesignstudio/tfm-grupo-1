<div class="min-h-screen">
  <!-- Main -->
  <div class="max-w-md mx-auto p-4 space-y-6">
    <!-- Family Card -->
    <div class="bg-white rounded-2xl shadow p-6 space-y-6 text-center">
      <!-- User Avatar + Info -->
      <div class="flex justify-center items-center space-x-9">
        <!-- Avatar -->
        <div class="w-32 h-32 rounded-full overflow-hidden">
          <img
            [src]="user.avatar"
            alt="User Avatar"
            class="w-full h-full object-cover"
          />
        </div>

        <!-- User info -->
        <div class="leading-tight text-left">
          <p class="text-base font-semibold text-gray-900">
            {{ user.nick }}
            
          </p>
          @if (user.name && user.surname) {
          <p class="text-sm text-gray-500">
            {{ user.name }} {{ user.surname }}
            
          </p>
          }
          <p class="text-sm text-gray-500">
            {{ user.rol }}
          </p>
        </div>
      </div>

      <!-- Childrens -->
      <div class="flex items-center justify-center space-x-4">
        @for (child of children; track child) {
        <button
          (click)="selectChild(child)"
          [class.bg-pink-100]="child === selectedChild"
          [class.text-pink-700]="child === selectedChild"
          [class.bg-gray-200]="child !== selectedChild"
          class="rounded-full w-16 h-16 flex items-center justify-center hover:cursor-pointer transition-colors duration-200"
        >
          <span class="text-xs font-medium">
            {{ child.name }}
          </span>
        </button>
        }
        <button 
          class="bg-gray-200 hover:bg-gray-300 rounded-full w-14 h-14 flex items-center justify-center hover:cursor-pointer"
        >
          <i class="pi pi-plus text-gray-700 text-lg"></i>
        </button>
      </div>
    </div>

    <!-- Selected Child Card -->
    @if (selectedChild) {
    <div class="bg-white rounded-2xl shadow">
      <div class="p-4">
        <h2 class="text-lg font-semibold text-gray-900 mb-4 ml-2">
          {{ selectedChild.name }}
        </h2>
        <div class="mt-3 flex items-center justify-between ml-2 mr-2">
          <p class="text-sm font-medium text-gray-900">
            {{ selectedChild.age }}
          </p>
          <button  (click)="router.navigate(['/child-profile/{{selectedChild.id}}'])"
          class="hover:cursor-pointer">
            <i class="pi pi-search text-gray-600 text-sm"></i>
          </button>
        </div>

        <div class="relative mt-4">
          <img
            [src]="selectedChild.image"
            alt="Foto del niño"
            class="w-full rounded-xl object-cover"
          />
        </div>
        <div class="mt-3 flex items-center justify-between ml-2 mr-2">
          <p><strong>Altura:</strong> {{ selectedChild.height }} cm</p>
          <p><strong>Peso:</strong> {{ selectedChild.weight }} kg</p>
        </div>
      </div>
    </div>
    }
    <div class="bg-white rounded-2xl shadow p-6 space-y-6 text-center">
    <h2 class="text-lg font-semibold text-center text-gray-900 mb-2">
      INTEGRANTES DE LA FAMILIA
    </h2>
    @for (member of familyMembers; track member) {
    <div
      class="flex justify-between items-center px-4 py-3 rounded-xl"
      [ngClass]="getBgColor(member)"
    >
      <span class="text-sm font-medium text-gray-800">
        {{ member.name }} – {{ member.role }}
      </span>
      <div class="w-8 h-8 rounded-full bg-gray-700"></div>
    </div>
    }
  </div>
  </div>
  
</div>
